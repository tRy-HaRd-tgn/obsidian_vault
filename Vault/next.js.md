# Что такое ?
next.js - фреймворк основанный на react , с функционалом предназначенным для разработки выходящей за spa (single page aplication).
Функции:
- маршрутизация
- оптимизированную работу данных рендеринга
- компиляцию пакетов
# Установка
Создание проекта
~~~ js
npm create next-app app-name
~~~
Устанавливаем зависимости
~~~ js
npm add next react react-dom
~~~
Обновляем pakage-json
~~~ js
"scripts": {
  "dev": "next dev",
  "build": "next build",
  "start": "next start",
  "lint": "next lint"
}
~~~
Запуск сервера для разработки
~~~ js
npm dev
~~~
# Основные возможности
- Рендеринг на стороне сервера и генерации статических сайтов. Благодаря инициализации серверной прослойки на Node.js, Next.js отлично справляется с предварительным рендерингом страниц на стороне сервера, что позволяет ускорить загрузку страницы и SEO за счет передачи HTML-контента непосредственно в браузер. Эта техника позволяет усовершенствовать пользовательский опыт и видимость в поисковых системах.
- Автоматическое разделение кода. Фреймворк  автоматически разделяет код на более мелкие, управляемые куски. Это позволяет загружать не только необходимые компоненты, сокращая время начальной загрузки страницы и повышая её производительность.
- Встроенная поддержка CSS. Next.js легко интегрируется с различными библиотеками CSS-in-js, что упрощает стилизацию и избавляет от необходимости использования дополнительных настроек  и инструментов.
- Горячая замена модулей(HMR). HMR позволяет разработчикам видеть изменения в реальном времени , не требуя обновления страницы, что делает процесс разработки более эффективным и приятным.
- Роутинг на основании файловой системы. Создание роутов в Next.js не требует особых усилий. Структура папок и и фалов определяет пути доступа клиентской части к компонентам приложения. Также Next.js поддерживает ключевые слова в названиях файловой системы для разделения поведения и контекста сервера и клиента. Эта возможность также облегчает интеграцию функциональности бэкенда с фронетндом, обеспечивая динамическую работу с данными.
# Файловая система роутинга
Как и было сказано ранее, Page структура создает роутинг по файловой системе приложения. Точкой отчета является папка со специальным названием pages, внутри которой каждый .jsx или .tsx  файл в каталоге pages генерирует маршрут /about в вашем приложении. Таким же образом можно создавать внутри pages  другие папки по необходимости для группирования компонентов по их роли и направлению файловый путь **pages/help/contact-us.tsx** предоставит доступ к компоненту в браузере по пути **/help/contact-us**. Такой подход к организации роутов повышает производительность труда разработчиков, ведь по сравнению с типичной react -разработкой, пропадает необходимость вручную создавать и прописывать роутинг в компонентах, что к тому же и улучшает читабельность кода. 
# Динамический роутинг
Next.js обеспечивает динамическую маршрутизацию за счет использования скобок [] в имени файла. Например файл с именем [id].tsx в папке user может соответствовать таким роутам, как /user/1, /user/2 и т.д. Динамические маршруты позволяют создавать адаптируемые и параметризованные веб-адреса, что предоставляет пользователям представление индивидуального контента.
# Получение данных
В Page  роутере реализованы такие методы получения данных, как **getStaticProps** и **getServerSideProps**. Эти методы позволяют получать данные во время рендеринга на стороне сервера или во время сборки, что позволяет предварительно рендерить страницы с динамическим содержимым. Эта возможность гарантирует, что веб-приложение будет представлять пользователям актуальные данные без ущерба для производительности. Давайте рассмотрим их поподробнее. 
**getStaticProps** - метод, указывающий Next-компоненту выполнить внутреннюю логику и потом передать полученные данные и перерендерить себя во время процесса сборки приложения. Рендеринг на этапе сборки с помощью getStaticProps() означает, что перед размещением компонента Next.js преобразует react в HTML-страницы, и только после этого они размещаются на хостинге и предоставляются клиенту. Такая методика называется статической генерацией сайтов, или **SSG**.
## Пример компонента
~~~ js

import type { InferGetStaticPropsType, GetStaticProps } from "next";

type Product = {  
	id: number;  
	name: string;  
	price: number;  
	isAvailable: boolean;
};
export const getStaticProps = (async (context) => {  
	const res = await fetch("https://...");  
	const product = await res.json();  
	if (!product) {    
	return {      
		notFound: true,    
		};  
	} else if (!product.isAvailable) {    
	return {      
		redirect: {        
			destination: "/products",        
			permanent: false,      
		},
	};  
}  
return { 
	props: { product } };}) satisfies GetStaticProps<{  
	product: Product;
}>;
export default function Page({  
	product,
}: InferGetStaticPropsType<typeof getStaticProps>) {  
	return product.name;
}
~~~
